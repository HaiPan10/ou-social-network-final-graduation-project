<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout/layout}">

<head>
    <title>Duyệt tài khoản</title>
</head>

<body>

    <div layout:fragment="content">
        <div id="currentPage" th:attr="data-currentPage=${currentPage}"></div>
        <h4 class="fw-bold py-3 mb-4"><span class="text-muted fw-light">Tài khoản /</span> Duyệt tài khoản</h4>
        <!-- Basic Bootstrap Table -->
        <div class="card">
            <h5 class="card-header">Danh sách chờ duyệt</h5>
            <div class="table-responsive text-nowrap">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Mã số sinh viên</th>
                            <th>Gmail</th>
                            <th>Họ</th>
                            <th>Tên</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody class="table-border-bottom-0">
                        <th:block th:each="p : ${pendingAccounts}">
                            <tr>
                                <td><i class="fab fa-angular fa-lg text-danger me-3"></i> <strong
                                        th:text="${p.user.userStudent.studentIdentical}"></strong></td>
                                <td th:text="${p.email}"></td>
                                <td th:text="${p.user.lastName}"></td>
                                <td th:text="${p.user.firstName}"></td>
                                <td>
                                    <div class="dropdown" style="display: flex; flex-direction: row;">
                                        <div class="alert-success" style="width: 50%; text-align: center;">
                                            <a th:href="@{/admin/accounts/verification/{id}(id=${p.id},status='ACTIVE')}"
                                                class="alert-success"><i class="bx bx-user-check me-1"></i>
                                                Đồng ý</a>
                                        </div>
                                        <div class="alert-danger" style="width: 50%; text-align: center;">
                                            <a th:href="@{/admin/accounts/verification/{id}(id=${p.id},status='REJECT')}"
                                                class="alert-danger"><i class="bx bx-user-x"></i>
                                                Từ chối</a>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </th:block>
                    </tbody>
                </table>
                <div th:if="${counter > 1}" class="demo-inline-spacing">
                    <!-- Basic Pagination -->
                    <nav aria-label="Page navigation">
                        <ul class="pagination justify-content-center">
                            <th:block th:each="i : ${#numbers.sequence(1, counter)}">
                                <li class="page-item" th:id="'pageVerification' + ${i}">
                                    <a class="page-link" th:href="@{/admin/accounts/verification(page=${i})}"
                                        th:text="${i}"></a>
                                </li>
                            </th:block>
                        </ul>
                    </nav>
                    <!--/ Basic Pagination -->
                </div>
            </div>
        </div>
        <!--/ Basic Bootstrap Table -->
        <script>
            var menu = document.getElementById("account-verification-menu");
            menu.className += " active";
            var curPage = document.getElementById("currentPage").getAttribute("data-currentPage");
            var pageVerification = document.getElementById(`pageVerification${curPage}`);
            if (pageVerification != null) {
                pageVerification.className += " active";
            }
        </script>
    </div>
</body>

</html>